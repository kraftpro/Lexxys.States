<?xml version="1.0" encoding="utf-8"?>
<statechart name="PositionFile" start="Group1">
  <state name="Ignored">
    <transition event="Undo" target="Group1"/>
  </state>
  <state name="Group1">
    <transition event="Ignore" target="Ignored"/>
    <subchart start="Group2">
      <state name="OnHoldWithIssues">
        <transition event="AllManualIssuesClosed" target="Group2"/>
      </state>
      <state name="Group2">
        <transition event="*" target="OnHoldWithIssues" condition="HasManualIssues"/>
        <subchart start="NotMatched">
          <state name="NotMatched">
            <transition event="*" target="Matched" condition="IsMatched"/>
            <transition event="ApproveWithDifference" target="Approved"/>
          </state>
          <state name="Matched">
            <transition event="Approve" target="Approved"/>
            <transition event="*" target="NotMatched" condition="!IsMatched"/>
          </state>
          <state name="NotMatched2">
            <transition event="*" target="Group3" condition="IsMatched"/>
          </state>
          <state name="Group3">
            <transition event="*" target="NotMatched2"/>
            <subchart start="Approved">
              <state name="Approved">
                <transition event="*" target="ReadyWithCleanup" condition="HasAutomaticIssues"/>
                <transition event="*" target="SecondReview" condition="SecondReviewRequired"/>
                <transition event="*" target="Done"/>
              </state>
              <state name="ReadyWithCleanup">
                <transition event="*" target="Approved" condition="NoIssues"/>
              </state>
              <state name="SecondReview">
                <transition event="*" target="ReadyWithCleanup" condition="HasAutomaticIssues"/>
                <transition event="ReviewCompleted" target="Done"/>
              </state>
            </subchart>
          </state>
        </subchart>
      </state>
    </subchart>
  </state>
</statechart>